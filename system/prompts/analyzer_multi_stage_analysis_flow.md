# Analyzer Agent 多段階分析フロー設計
<!-- version: 2.0.0 -->
<!-- optimized_for: maximum_medal_probability -->

## 🎯 目的：徹底的な分析によるメダル獲得確率の最大化

API制限を考慮せず、必要なだけLLMを活用して最高精度の分析を実現します。

## 📊 5段階深層分析プロセス

### Stage 1: 競技全体像の把握（初期分析）
**目的**: 競技の基本特性と成功要因の初期理解
```
入力: 競技基本情報、データセット概要、評価指標
プロンプト: analyzer_technical_analysis.md
出力: 競技難易度、主要課題、初期戦略
```

### Stage 2: グランドマスター解法の個別深層分析
**目的**: 各上位解法の本質的理解（TOP10を個別に分析）
```
ループ処理: TOP10の各解法に対して
  入力: 個別の解法詳細、コード、ディスカッション
  プロンプト: analyzer_grandmaster_solution_extraction.md
  出力: 解法の本質、成功要因、再現可能性
```

### Stage 3: 解法パターンの統合と洞察抽出
**目的**: 複数の解法から共通成功パターンを発見
```
入力: Stage 2の全分析結果
プロンプト: analyzer_pattern_synthesis.md（新規作成）
出力: 統合された勝利パターン、必須要素、差別化ポイント
```

### Stage 4: 実装戦略の詳細設計
**目的**: 具体的な実装計画とリソース配分の最適化
```
入力: Stage 3の統合パターン、利用可能リソース、現在順位
プロンプト: analyzer_implementation_roi_evaluation.md
出力: 優先順位付き実装計画、期待ROI、リスク評価
```

### Stage 5: 競合動向を考慮した最終戦略
**目的**: 他チームの動きを予測し、差別化戦略を確定
```
入力: Stage 1-4の全結果、現在のリーダーボード動向
プロンプト: analyzer_competitive_strategy.md（新規作成）
出力: 最終実装戦略、差別化要素、勝利への道筋
```

## 🔄 追加の適応的分析

### 条件付き深掘り分析
特定の条件が満たされた場合、追加の分析を実行：

1. **データ特異性が検出された場合**
   - 追加プロンプト: analyzer_data_anomaly_investigation.md
   - 目的: データの罠や隠れた特性の完全理解

2. **新技術の可能性が示唆された場合**
   - 追加プロンプト: analyzer_novel_approach_evaluation.md
   - 目的: 革新的アプローチの実現可能性評価

3. **競合が予想外の動きをした場合**
   - 追加プロンプト: analyzer_competitor_strategy_decode.md
   - 目的: 競合戦略の解読と対抗策立案

## 💡 LLM活用の最大化戦略

### 1. 詳細度の段階的向上
- 最初は広く浅く、徐々に深く狭く
- 重要な発見があれば、その部分を深掘り

### 2. 交差検証的分析
- 同じデータを異なる角度から複数回分析
- 矛盾や見落としを発見

### 3. 仮説生成と検証
- LLMに複数の仮説を生成させる
- 別のLLM呼び出しで各仮説を検証

### 4. シナリオ分析
- 複数の実装シナリオを並列評価
- 各シナリオでの成功確率を算出

## 📈 期待される成果

1. **分析精度の飛躍的向上**
   - 単一分析: 60-70%の精度
   - 多段階分析: 85-95%の精度

2. **隠れた勝利要因の発見**
   - 表面的な技術リストを超えた本質理解
   - 他チームが見逃す差別化ポイントの特定

3. **リスクの早期発見と回避**
   - 複数の視点からリスクを評価
   - 事前の対策立案

4. **最適な時間配分**
   - 各技術の真のROIを正確に評価
   - 無駄な実装を完全に排除

## 🚀 実装における注意点

1. **並列処理の活用**
   - 独立した分析は並列実行
   - 全体の分析時間を短縮

2. **結果のキャッシュ**
   - 同じ分析を繰り返さない
   - 分析結果をデータベース化

3. **人間の介入ポイント**
   - 重要な判断ポイントでの確認
   - 予想外の発見時の方針確認

この多段階分析により、メダル獲得への最も確実な道筋を発見します。